<div class="row" *ngIf="userLoaded else loadingTemplate">

  <div class="col-sm-8 offset-sm-2">

    <div>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="name">Name</label>
          <input formControlName="name" class="form-control" id="name" aria-describedby="nameHelp"
                 placeholder="Enter the user's name" required>
          <small id="nameHelp" class="form-text text-muted">Enter the user's name</small>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input formControlName="email" class="form-control" id="email"
                 aria-describedby="emailHelp"
                 placeholder="Enter the user's email" required>
          <small id="emailHelp" class="form-text text-muted">Enter the user's email</small>
        </div>

        <div class="form-group">
          <label for="description">Comments</label>
          <textarea formControlName="comments" class="form-control" id="description"
                    aria-describedby="descHelp"></textarea>
          <small id="descHelp" class="form-text text-muted">Optionally enter some comments</small>
        </div>

        <div class="form-group">
          <button [disabled]="savingUser || !form.valid" class="btn btn-primary">
            <span *ngIf="savingUser" class="spinner-border spinner-border-sm mr-1"></span>
            {{ savingUser ? 'Saving...' : 'Save' }}
          </button>
          <a routerLink="/users" class="btn btn-link">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</div>

<ng-template #loadingTemplate>
  <p><span class="spinner-border spinner-border-sm mr-1"></span> Loading, please wait...</p>
</ng-template>
